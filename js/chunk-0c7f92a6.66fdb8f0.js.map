{"version":3,"sources":["webpack:///./src/views/home/A-homePage/index.vue?25e8","webpack:///./src/views/home/A-homePage/logo-light.png","webpack:///./src/views/home/A-homePage/index.vue?30f0","webpack:///src/views/home/A-homePage/index.vue","webpack:///./src/views/home/A-homePage/index.vue?87aa","webpack:///./src/views/home/A-homePage/index.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","model","value","callback","$$v","active","expression","on","$event","isChannelEditShow","_l","item","index","key","name","style","height","Channelslist","showSwitchChannels","staticRenderFns","data","watch","methods","created","getHomeUserChannels","component"],"mappings":"kHAAA,yBAAglB,EAAG,G,uBCAnlBA,EAAOC,QAAU,IAA0B,+B,oECA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,KAAK,CAACH,EAAG,OAAO,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,QAAQC,KAAK,QAAQ,CAACJ,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,EAAQ,QAAoB,IAAM,QAAQH,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,OAAO,KAAO,QAAQ,MAAQ,GAAG,KAAO,SAAS,GAAK,WAAWC,KAAK,SAAS,CAACR,EAAIS,GAAG,WAAW,GAAGL,EAAG,WAAW,CAACG,MAAM,CAAC,UAAY,IAAIG,MAAM,CAACC,MAAOX,EAAU,OAAEY,SAAS,SAAUC,GAAMb,EAAIc,OAAOD,GAAKE,WAAW,WAAW,CAACX,EAAG,WAAW,CAACE,YAAY,UAAUC,MAAM,CAAC,KAAO,YAAY,KAAO,WAAWS,GAAG,CAAC,MAAQ,SAASC,GAAQjB,EAAIkB,mBAAoB,IAAOV,KAAK,cAAcR,EAAImB,GAAInB,EAAgB,cAAE,SAASoB,EAAKC,GAAO,OAAOjB,EAAG,UAAU,CAACkB,IAAID,EAAMd,MAAM,CAAC,MAAQa,EAAKG,OAAO,CAACnB,EAAG,eAAe,CAACG,MAAM,CAAC,QAAUa,MAAS,OAAM,GAAGhB,EAAG,YAAY,CAACoB,MAAM,CAAGC,OAAQ,QAAUlB,MAAM,CAAC,SAAW,SAAS,MAAQ,GAAG,UAAY,GAAG,aAAa,QAAQ,sBAAsB,YAAYG,MAAM,CAACC,MAAOX,EAAqB,kBAAEY,SAAS,SAAUC,GAAMb,EAAIkB,kBAAkBL,GAAKE,WAAW,sBAAsB,CAACX,EAAG,gBAAgB,CAACG,MAAM,CAAC,aAAeP,EAAI0B,aAAa,OAAS1B,EAAIc,QAAQE,GAAG,CAAC,OAAShB,EAAI2B,uBAAuB,IAAI,IAChxCC,EAAkB,G,gDC0CtB,GACEC,KADF,WAEI,MAAO,CACLf,OAAQ,EACRY,aAAc,GACdR,mBAAmB,IAGvBY,MAAO,CAELJ,aAFJ,WAGM,OAAN,OAAM,CAAN,qCAIEK,QAAS,CAEP,oBAFJ,mLAIA,iBAJA,gBAIA,EAJA,EAIA,KAGA,KAEA,kCAIA,EAFA,GAKA,gBAGA,oBAnBA,wGAqBIJ,mBArBJ,SAqBA,GACM1B,KAAKiB,mBAAoB,EAEzBjB,KAAKa,OAASO,IAGlBW,QA1CF,WA2CI/B,KAAKgC,wBCtFoW,I,wBCQzWC,EAAY,eACd,EACAnC,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAM,E","file":"js/chunk-0c7f92a6.66fdb8f0.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1b347383&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1b347383&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/logo-light.4653c8be.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-container\"},[_c('van-nav-bar',{attrs:{\"fixed\":\"\"}},[_c('span',{staticClass:\"logo\",attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('img',{attrs:{\"src\":require(\"./logo-light.png\"),\"alt\":\"\"}})]),_c('van-button',{attrs:{\"slot\":\"right\",\"type\":\"info\",\"size\":\"small\",\"round\":\"\",\"icon\":\"search\",\"to\":\"/search\"},slot:\"right\"},[_vm._v(\" 搜索 \")])],1),_c('van-tabs',{attrs:{\"swipeable\":\"\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-icon',{staticClass:\"wap-nav\",attrs:{\"slot\":\"nav-right\",\"name\":\"wap-nav\"},on:{\"click\":function($event){_vm.isChannelEditShow = true}},slot:\"nav-right\"}),_vm._l((_vm.Channelslist),function(item,index){return _c('van-tab',{key:index,attrs:{\"title\":item.name}},[_c('Article-list',{attrs:{\"channel\":item}})],1)})],2),_c('van-popup',{style:({ height: '100%' }),attrs:{\"position\":\"bottom\",\"round\":\"\",\"closeable\":\"\",\"close-icon\":\"close\",\"close-icon-position\":\"top-left\"},model:{value:(_vm.isChannelEditShow),callback:function ($$v) {_vm.isChannelEditShow=$$v},expression:\"isChannelEditShow\"}},[_c('Channels-list',{attrs:{\"Channelslist\":_vm.Channelslist,\"active\":_vm.active},on:{\"switch\":_vm.showSwitchChannels}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"home-container\">\r\n    <!-- 导航 -->\r\n    <van-nav-bar fixed>\r\n      <span class=\"logo\" slot=\"left\">\r\n        <img src=\"./logo-light.png\" alt=\"\">\r\n      </span>\r\n      <van-button type=\"info\" slot=\"right\" size=\"small\" round icon=\"search\" to=\"/search\">\r\n      搜索\r\n      </van-button>\r\n    </van-nav-bar>\r\n    <!-- /导航 -->\r\n    <!-- Tab标签栏 -->\r\n    <van-tabs v-model=\"active\" swipeable>\r\n      <van-icon class=\"wap-nav\" slot=\"nav-right\" name=\"wap-nav\" @click=\"isChannelEditShow = true\" />\r\n      <van-tab v-for=\"(item,index) in Channelslist\" :key=\"index\" :title=\"item.name\">\r\n        <!-- 文章列表 -->\r\n        <Article-list :channel=\"item\"></Article-list>\r\n        <!-- /文章列表 -->\r\n      </van-tab>\r\n    </van-tabs>\r\n    <!-- /Tab标签栏 -->\r\n    <!-- 弹出框组件 -->\r\n    <van-popup\r\n      v-model=\"isChannelEditShow\"\r\n      position=\"bottom\"\r\n      round\r\n      closeable\r\n      close-icon=\"close\"\r\n      close-icon-position=\"top-left\"\r\n      :style=\"{ height: '100%' }\"\r\n    >\r\n      <!-- 频道编辑组件 接收父组件传过来的值Channelslist-->\r\n      <Channels-list :Channelslist=\"Channelslist\" :active=\"active\" @switch=\"showSwitchChannels\"></Channels-list>\r\n      <!-- /频道编辑组件 -->\r\n    </van-popup>\r\n    <!-- /弹出框组件 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getHomeUserChannels } from '@/api/channels' // 引入用户频道接口\r\nimport { getItem, setItem } from '@/utils/storage'\r\nexport default {\r\n  data () {\r\n    return {\r\n      active: 0, // 控制标签页的激活项\r\n      Channelslist: {},\r\n      isChannelEditShow: false // 显示弹出框\r\n    }\r\n  },\r\n  watch: {\r\n    // 当 userChannels 发生改变的时候，将该数据存储到本地存储\r\n    Channelslist () {\r\n      setItem('user-channels', this.Channelslist)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // 获取用户频道列表\r\n    async getHomeUserChannels () {\r\n      // 获取数据\r\n      const { data } = await getHomeUserChannels()\r\n\r\n      // 1. 定义一个变量用来存储频道列表\r\n      let channels = []\r\n      // 2. 获取本地存储的频道列表\r\n      const localHomeUserChannles = getItem('user-channels')\r\n\r\n      if (localHomeUserChannles) {\r\n        // 如果本地存储有值使用本地存储的频道列表\r\n        channels = localHomeUserChannles\r\n      } else {\r\n        // 如果本地存储没有值使用默认接口获取到的频道列表\r\n        channels = data.data.channels\r\n      }\r\n      // 数据赋值\r\n      this.Channelslist = channels\r\n    },\r\n    showSwitchChannels (index) {\r\n      this.isChannelEditShow = false // 关闭弹窗\r\n      // this.active = this.$store.state.index // 展示当前点击页面\r\n      this.active = index // 展示当前点击页面\r\n    }\r\n  },\r\n  created () {\r\n    this.getHomeUserChannels()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.home-container {\r\n  .van-nav-bar {\r\n    .logo {\r\n      display: flex;\r\n      margin-bottom:10px;\r\n      width: 100px;\r\n      height: 100%;\r\n      img {\r\n        width: 100%;\r\n      }\r\n    }\r\n    .van-nav-bar__right {\r\n      .van-button {\r\n        width: 200px;\r\n      }\r\n      color: #fff;\r\n      .van-icon {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n  padding-top: 90px;\r\n  padding-bottom: 50px;\r\n  .wap-nav {\r\n    position: fixed;\r\n    right: 0;\r\n    line-height: 44px;\r\n    background: #fff;\r\n    opacity: 0.8;\r\n    font-size: 24px;\r\n    padding-right: 5px;\r\n  }\r\n  /deep/ .van-tabs__wrap {\r\n    // 深度调整根组件内部标签样式\r\n    position: fixed;\r\n    top: 46px;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 1;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1b347383&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1b347383&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b347383\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}